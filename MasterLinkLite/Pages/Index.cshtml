@page
@model MasterLinkLite.Pages.IndexModel
@{
    ViewData["Title"] = "Master Link";
}

<h2 class="mb-4 text-center" style="color: var(--purpura);">
    Bienvenido a MasterLink
</h2>

<div class="container d-flex flex-column align-items-center">
    @foreach (var link in Model.Links)
    {
        var bgClass = GetGradientClass(link.Nombre);
        <a href="@link.Url" target="_blank" rel="noopener noreferrer" class="link-box @bgClass mb-3 w-100" style="max-width: 500px;">
            <strong>@link.Nombre</strong><br />
            <small>@link.Proposito</small>
        </a>
    }
</div>

@functions {
    private readonly string[] gradients = new[] {
        "bg-gradient-1",
        "bg-gradient-2",
        "bg-gradient-3",
        "bg-gradient-4",
        "bg-gradient-5"
    };

    public string GetGradientClass(string key)
    {
        int hash = key.Aggregate(0, (acc, c) => acc + c);
        int index = hash % gradients.Length;
        return gradients[index];
    }
}
